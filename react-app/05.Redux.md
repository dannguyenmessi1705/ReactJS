# Redux
## 1. Giới thiệu
- **Redux** là một thư viện giúp chúng ta quản lý state của một ứng dụng React.
- Là một thư viện quản lý state toàn cục cho ứng dụng React.
- Là một thư viện hoan toàn độc lập với React, nhưng dễ dàng kết hợp với React thông qua thư viện `react-redux`.
- Tat ca cac state cua ứng dụng đều được lưu trữ trong một store duy nhất, nó dễ dàng cập nhật bằng các `actión` giống như `useReducer`.
- về mặt khái niệm nó tương đương với việc sử dụng `Context API` + `useReducer`.
- Có 2 phiên bản của Redux: `Redux Toolkit` (phiên bản mới) và `Classic Redux` (phiên bản cũ). 

## 2. Cơ chế hoạt động của Redux
- 1, Từ event handler trong component
- 2, Hàm tạo hành động (Action Creator) 
- 3, Dispatch, gui action đến store
- 4, Store chứa nhiều reducer
- 5, Reducer xử lý action 
- 6, Store cập nhật state
- 7, Component nhận state mới 
- 8, Render lại component.

## 3. Classic Redux
### 3.1. Cài đặt
```bash
npm install redux
```
### 3.2. Sử dụng
>feature/accountSlice.js
```js
import {createStore, combineReducers} from 'redux';
const initialStateAccount = {} // initial state
const initialStateUser = {} // initial state
const accountReducer = (state = initialStateAccount, action) // reducer giống như useReducer
// Lưu ý đặt các action the chuẩn "account/{actionName}"
const userReducer = (state = initialStateUser, action) // reducer giống như useReducer
// Lưu ý đặt các action the chuẩn "user/{actionName}"
const rootReducer = combineReducers({account: accountReducer, user: userReducer}) // combine các reducer lại với nhau
const store = createStore(rootReducer) // tạo store

// action creator
const deposit = (amount) => {
    return {
        type: 'account/deposit',
        payload: amount
    }
}
const createUser = (user) => {
    return {
        type: 'user/create',
        payload: user
    }
}
store.dispatch(deposit(100)) // dispatch action, redux sẽ hiểu và gọi đến reducer của account
store.dispatch(createUser({name: 'John'})) // dispatch action, redux sẽ hiểu và gọi đến reducer của user
store.getState() // lấy state hiện tại {account: {balance: 100}, user: {name: 'John'}}
```